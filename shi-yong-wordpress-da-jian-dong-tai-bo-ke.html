<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>使用 WordPress 搭建动态博客 - ONION</title><meta name="description" content="云服务器自动搭建 以腾讯云服务器为例： 点击【重置应用】 点击【应用镜像】，选择【WordPress】，勾选上确定声明后点击【确定】 点击【应用管理】 点击【登录】 打开 credentials.txt ，并记住其中的密码 cat ~lighthouse/credentials.txt 登录管理员登录地址，然后输入刚才的账户名和密码 现在可以登录 WordPress 配置和撰写博客了 搭建过程参考 搭建LNMP mysql 执行以下命令，创建 MariaDB 数据库。例如 “wordpress”。 CREATE&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://znizn.github.io/myweb/shi-yong-wordpress-da-jian-dong-tai-bo-ke.html"><link rel="alternate" type="application/atom+xml" href="https://znizn.github.io/myweb/feed.xml"><link rel="alternate" type="application/json" href="https://znizn.github.io/myweb/feed.json"><meta property="og:title" content="使用 WordPress 搭建动态博客"><meta property="og:image" content="https://znizn.github.io/myweb/media/posts/8/2019-02-04_233346.jpg"><meta property="og:site_name" content="ONION"><meta property="og:description" content="云服务器自动搭建 以腾讯云服务器为例： 点击【重置应用】 点击【应用镜像】，选择【WordPress】，勾选上确定声明后点击【确定】 点击【应用管理】 点击【登录】 打开 credentials.txt ，并记住其中的密码 cat ~lighthouse/credentials.txt 登录管理员登录地址，然后输入刚才的账户名和密码 现在可以登录 WordPress 配置和撰写博客了 搭建过程参考 搭建LNMP mysql 执行以下命令，创建 MariaDB 数据库。例如 “wordpress”。 CREATE&hellip;"><meta property="og:url" content="https://znizn.github.io/myweb/shi-yong-wordpress-da-jian-dong-tai-bo-ke.html"><meta property="og:type" content="article"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://znizn.github.io/myweb/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://znizn.github.io/myweb/assets/css/style.css?v=a9be65991eac1ba939a241a60fc077ca"><noscript><link rel="stylesheet" href="https://znizn.github.io/myweb/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://znizn.github.io/myweb/shi-yong-wordpress-da-jian-dong-tai-bo-ke.html"},"headline":"使用 WordPress 搭建动态博客","datePublished":"2020-11-28T15:17","dateModified":"2021-07-05T15:18","image":{"@type":"ImageObject","url":"https://znizn.github.io/myweb/media/posts/8/2019-02-04_233346.jpg","height":471,"width":858},"description":"云服务器自动搭建 以腾讯云服务器为例： 点击【重置应用】 点击【应用镜像】，选择【WordPress】，勾选上确定声明后点击【确定】 点击【应用管理】 点击【登录】 打开 credentials.txt ，并记住其中的密码 cat ~lighthouse/credentials.txt 登录管理员登录地址，然后输入刚才的账户名和密码 现在可以登录 WordPress 配置和撰写博客了 搭建过程参考 搭建LNMP mysql 执行以下命令，创建 MariaDB 数据库。例如 “wordpress”。 CREATE&hellip;","author":{"@type":"Person","name":"ZHUO"},"publisher":{"@type":"Organization","name":"ZHUO"}}</script><style>#wrapper > .bg {
               background-image: url(https://znizn.github.io/myweb/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://znizn.github.io/myweb/media/website/photo-1422422153408-a3298d6d542c-2.jpeg);
           }</style></head><body class="is-preload"><div id="wrapper"><header id="header"><a class="logo" href="https://znizn.github.io/myweb/">ONION</a></header><main id="main"><article class="post"><header class="major"><time datetime="2020-11-28T15:17" class="date">十一月 28, 2020</time><h1>使用 WordPress 搭建动态博客</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://znizn.github.io/myweb/media/posts/8/2019-02-04_233346.jpg" srcset="https://znizn.github.io/myweb/media/posts/8/responsive/2019-02-04_233346-xs.jpg 300w, https://znizn.github.io/myweb/media/posts/8/responsive/2019-02-04_233346-sm.jpg 480w, https://znizn.github.io/myweb/media/posts/8/responsive/2019-02-04_233346-md.jpg 768w, https://znizn.github.io/myweb/media/posts/8/responsive/2019-02-04_233346-lg.jpg 1024w, https://znizn.github.io/myweb/media/posts/8/responsive/2019-02-04_233346-xl.jpg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="471" width="858" alt=""></figure><div class="post__inner post__entry"><h2 id="云服务器自动搭建">云服务器自动搭建</h2><p>以腾讯云服务器为例：</p><ol><li><p>点击【重置应用】</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129163957156.png" data-is-external-image="true" alt="image-20201129163957156"></figure><p></p></li><li><p>点击【应用镜像】，选择【WordPress】，勾选上确定声明后点击【确定】</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129164049051.png" data-is-external-image="true" alt="image-20201129164049051"></figure><p></p></li><li><p>点击【应用管理】</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129182926625.png" data-is-external-image="true" alt="image-20201129182926625"></figure><p></p></li><li><p>点击【登录】</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129182942189.png" data-is-external-image="true" alt="image-20201129182942189"></figure><p></p></li><li><p>打开 <code>credentials.txt</code> ，并记住其中的密码</p></li></ol><pre><code class="language-bash">cat ~lighthouse/credentials.txt
</code></pre><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129183216979.png" data-is-external-image="true" alt="image-20201129183216979"></figure><p></p><ol start="6"><li><p>登录管理员登录地址，然后输入刚才的账户名和密码</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129183303001.png" data-is-external-image="true" alt="image-20201129183303001"></figure><p></p></li><li><p>现在可以登录 WordPress 配置和撰写博客了</p></li></ol><h2 id="手动搭建">手动搭建</h2><h4 id="搭建lnmp环境">搭建LNMP环境</h4><p>搭建过程参考 <a href="">搭建LNMP</a></p><h4 id="配置数据库">配置数据库</h4><ol><li>执行以下命令，进入 MariaDB。</li></ol><pre><code class="language-bash">mysql
</code></pre><ol start="2"><li>执行以下命令，创建 MariaDB 数据库。例如 “wordpress”。</li></ol><pre><code class="language-bash">CREATE DATABASE wordpress;
</code></pre><ol start="3"><li>执行以下命令，创建一个新用户。例如 “user”，登录密码为 <code>123456</code>。</li></ol><pre><code class="language-bash">CREATE USER &#39;user&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;
</code></pre><ol start="4"><li>执行以下命令，赋予用户对 “wordpress” 数据库的全部权限。</li></ol><pre><code class="language-bash">GRANT ALL PRIVILEGES ON wordpress.* TO &#39;user&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;123456&#39;;
</code></pre><ol start="5"><li><p>执行以下命令，设置 root 帐户密码。</p><blockquote><p>说明：MariaDB 10.4 在 CentOS 系统上已增加了 root 帐户免密登录功能，请执行以下步骤设置您的 root 帐户密码并牢记。</p></blockquote></li></ol><pre><code class="language-bash">ALTER USER root@localhost IDENTIFIED VIA mysql_native_password USING PASSWORD(&#39;输入您的密码&#39;);
</code></pre><ol start="6"><li>执行以下命令，使所有配置生效。</li></ol><pre><code class="language-bash">FLUSH PRIVILEGES;
</code></pre><ol start="7"><li>执行以下命令，退出 MariaDB。</li></ol><pre><code class="language-bash">\q
</code></pre><h4 id="安装和配置wordpress">安装和配置WordPress</h4><h6 id="下载-wordpress">下载 WordPress</h6><blockquote><p>说明：WordPress 可从 WordPress 官方网站下载 WordPress 最新中文版本并安装，本教程采用 WordPress 中文版本。</p></blockquote><ol><li>执行以下命令，删除网站根目录下用于测试 PHP-Nginx 配置的 <code>index.php</code> 文件。</li></ol><pre><code class="language-bash">rm -rf /usr/share/nginx/html/index.php
</code></pre><ol start="2"><li>依次执行以下命令，进入 <code>/usr/share/nginx/html/</code> 目录，并下载与解压 WordPress。</li></ol><pre><code class="language-bash">cd /usr/share/nginx/html

wget https://cn.wordpress.org/wordpress-5.0.4-zh_CN.tar.gz

tar zxvf wordpress-5.0.4-zh_CN.tar.gz
</code></pre><h6 id="修改-wordpress-配置文件">修改 WordPress 配置文件</h6><ol><li>依次执行以下命令，进入 WordPress 安装目录，将 <code>wp-config-sample.php</code> 文件复制到 <code>wp-config.php</code> 文件中，并将原先的示例配置文件保留作为备份。</li></ol><pre><code class="language-bash">cd /usr/share/nginx/html/wordpress

cp wp-config-sample.php wp-config.php
</code></pre><ol start="2"><li>执行以下命令，打开并编辑新创建的配置文件。</li></ol><pre><code class="language-bash">vim wp-config.php
</code></pre><ol start="3"><li>按 <kbd>i</kbd> 切换至编辑模式，找到文件中 MySQL 的部分，并将相关配置信息修改为 <a href="https://cloud.tencent.com/document/product/213/8044#database">配置 WordPress 数据库</a> 中的内容。</li></ol><pre><code class="language-bash">// ** MySQL settings - You can get this info from your web host ** //
/** The name of the database for WordPress */
define(&#39;DB_NAME&#39;, &#39;wordpress&#39;);
   
/** MySQL database username */
define(&#39;DB_USER&#39;, &#39;user&#39;);
   
/** MySQL database password */
define(&#39;DB_PASSWORD&#39;, &#39;123456&#39;);
   
/** MySQL hostname */
define(&#39;DB_HOST&#39;, &#39;localhost&#39;);
</code></pre><ol start="4"><li>修改完成后，按 <kbd>Esc</kbd>，输入 <code>:wq</code>，保存文件返回。</li></ol><h4 id="验证wordpress安装">验证WordPress安装</h4><ol><li>在浏览器地址栏输入 <code>http://域名或云服务器实例的公网 IP/wordpress 文件夹</code>，例如：</li></ol><pre><code class="language-bash">http://192.xxx.xxx.xx/wordpress
</code></pre><p>转至 WordPress 安装页，开始配置 WordPress。</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129173538851.png" data-is-external-image="true" alt="image-20201129173538851"></figure><p></p><ol start="2"><li><p>根据 WordPress 安装向导提示输入以下安装信息，单击【安装 WordPress】，完成安装。</p><table><thead><tr><th align="left">所需信息</th><th align="left">说明</th></tr></thead><tbody><tr><td align="left">站点标题</td><td align="left">WordPress 网站名称。</td></tr><tr><td align="left">用户名</td><td align="left">WordPress 管理员名称。出于安全考虑，建议设置一个不同于 admin 的名称。因为与默认用户名称 admin 相比，该名称更难破解。</td></tr><tr><td align="left">密码</td><td align="left">可以使用默认强密码或者自定义密码。请勿重复使用现有密码，并确保将密码保存在安全的位置。</td></tr><tr><td align="left">您的电子邮件</td><td align="left">用于接收通知的电子邮件地址。</td></tr></tbody></table><p>现在可以用登录 WordPress 博客，并开始发布博客文章了。</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129173727307.png" data-is-external-image="true" alt="image-20201129173727307"></figure><p></p></li></ol><h2 id="用-docker-搭建">用 docker 搭建</h2><h4 id="搭建-lnmp-环境">搭建 LNMP 环境</h4><p>搭建方式同上</p><h4 id="安装-docker-和-docker-compose">安装 <code>docker</code> 和 <code>docker-compose</code></h4><h6 id="安装-docker">安装 <code>Docker</code></h6><ol><li>一键安装 <code>Docker</code></li></ol><pre><code class="language-bash">curl -fsSL https://get.docker.com/ | sh
</code></pre><blockquote><p>实测该命令在<code>CentOS 8</code>上无法使用，需要手动安装</p></blockquote><ol start="2"><li>启动 <code>Docker</code> 服务</li></ol><pre><code class="language-bash">sudo systemctl start docker
</code></pre><ol start="3"><li>检查一下 <code>Docker</code> 是否启动成功</li></ol><pre><code class="language-bash">sudo systemctl status dockersudo systemctl status docker
</code></pre><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201026211822324.png" data-is-external-image="true" alt="image-20201026211822324"></figure><p></p><h6 id="安装-docker-compose">安装 <code>docker-compose</code></h6><p><strong>使用 GitHub 的方式安装</strong></p><p>从github上下载docker-compose二进制文件安装 下载最新版的docker-compose文件</p><pre><code class="language-bash">curl -L https://github.com/docker/compose/releases/download/1.16.1/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose
</code></pre><p>添加可执行权限</p><pre><code class="language-bash">chmod +x /usr/local/bin/docker-compose
</code></pre><p>测试安装结果</p><pre><code class="language-bash">docker-compose --version
docker-compose version 1.16.1, build 1719ceb
</code></pre><p><strong>使用 <code>pip</code> 安装</strong></p><p>安装 <code>pip</code></p><pre><code class="language-bash">yum -y install epel-release
yum -y install python-pip
</code></pre><p>安装 <code>docker-compose</code></p><pre><code class="language-bash">pip install docker-compose
</code></pre><h4 id="配置-yml-文件">配置 <code>.yml</code> 文件</h4><p>文件配置代码如下所示：</p><pre><code class="language-yaml">version: &#39;3.3&#39;

services:
   db:
     image: mysql:5.7
     volumes:
       - db_data:/var/lib/mysql
     restart: always
     environment:
       MYSQL_ROOT_PASSWORD: somewordpress
       MYSQL_DATABASE: wordpress
       MYSQL_USER: wordpress
       MYSQL_PASSWORD: wordpress

   wordpress:
     depends_on:
       - db
     image: wordpress:latest
     ports:
       - &quot;8000:80&quot;
     restart: always
     environment:
       WORDPRESS_DB_HOST: db:3306
       WORDPRESS_DB_USER: wordpress
       WORDPRESS_DB_PASSWORD: wordpress
       WORDPRESS_DB_NAME: wordpress
volumes:
    db_data: {}
</code></pre><h4 id="安装wordpress">安装WordPress</h4><p>新建一个文件夹，将配置好的 <code>docker-compose.yml</code> 文件复制进文件夹，在该文件夹下输入</p><pre><code class="language-bash">docker-compose up -d 
</code></pre><p>等待安装完成即可，安装完成后可以查看容器运行状态</p><pre><code class="language-bash">docker ps
</code></pre><p>容器运行情况如下</p><p></p><figure class="post__image"><img loading="lazy" src="https://gitee.com/zhuo1121/pictures/raw/master/image-20201129114704520.png" data-is-external-image="true" alt="image-20201129114704520"></figure><p></p><p>然后可以在相应端口打开 WordPress 开始配置和撰写博客</p><hr><blockquote><p>参考资料：</p><ul><li><a href="https://www.bilibili.com/video/BV12E41127Uj">个人博客|网站部署终极操作:一行命令搞定!_哔哩哔哩 (゜-゜)つロ 干杯~-bilibili</a>；</li><li><a href="https://cloud.tencent.com/document/product/213/8044">云服务器 手动搭建 WordPress 个人站点（Linux） - 最佳实践 - 文档中心 - 腾讯云 (tencent.com)</a>；</li><li><a href="https://cloud.tencent.com/document/product/1207/45117">轻量应用服务器 使用应用镜像搭建 WordPress 站点 - 最佳实践 - 文档中心 - 腾讯云 (tencent.com)</a>；</li></ul></blockquote></div><footer class="post__inner post__footer"><p class="post__last-updated">This article was updated on 七月 5, 2021</p><div class="post__share-tag-container"><div class="post__tag"><h3>Tagged in:</h3><ul><li><a href="https://znizn.github.io/myweb/tags/dong-tai-bo-ke/">动态博客</a></li><li><a href="https://znizn.github.io/myweb/tags/shi-yong-xing-chan-shu-gui-ze/">实用性-阐述规则</a></li><li><a href="https://znizn.github.io/myweb/tags/wordpress/">WordPress</a></li></ul></div><div class="post__share"><button class="post__share-button js-post__share-button icon" aria-label="Share button"><i class="fas fa-share-alt"></i></button><div class="post__share-popup js-post__share-popup"></div></div></div><div class="post__bio"><div><h3><a href="https://znizn.github.io/myweb/authors/zhuo/" class="invert" rel="author">ZHUO</a></h3></div></div></footer></article></main><footer id="copyright"><ul><li>© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></li></ul></footer></div><script src="https://znizn.github.io/myweb/assets/js/jquery.min.js?v=7c14a783dfeb3d238ccd3edd840d82ee"></script><script src="https://znizn.github.io/myweb/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://znizn.github.io/myweb/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://znizn.github.io/myweb/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://znizn.github.io/myweb/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://znizn.github.io/myweb/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://znizn.github.io/myweb/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script></body></html>